<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vizminds 2.0 - Authorization</title>
    <link rel="stylesheet" href="vizmindsround2.css">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=IM+Fell+English+SC&display=swap" rel="stylesheet">
</head>
<body>
    <div class="viz-background">
        <div class="epic-background">
            <!-- fire particles -->
            <div class="fire-particle"></div>
            <div class="fire-particle"></div>
            <div class="fire-particle"></div>
            <div class="fire-particle"></div>
            <div class="fire-particle"></div>
            <div class="fire-particle"></div>
            <div class="fire-particle"></div>
            <div class="fire-particle"></div>
            <div class="fire-particle"></div>
            <div class="fire-particle"></div>
            <!-- repeat as needed -->
        </div>

        <div class="auth-container">
            <img src="https://i.ibb.co/spBRcWnm/b28f4f39-f9a9-40b9-b6b9-bf77998b1f1a-removalai-preview.png" alt="Vizminds 2.0 event logo" class="auth-logo">
            <h1 class="auth-title">Prove Your Worthiness</h1>
            <p class="auth-subtitle">Only the chosen may enter the final showdown.</p>
            
            <form id="passwordForm" class="auth-form">
                <input type="password" id="passwordInput" class="password-input" placeholder="Enter password">
                <button type="submit" class="auth-button">Claim Your Place</button>
                <p id="errorMessage" class="error-message"></p>
            </form>
        </div>
    </div>
</body>


<script>

const SECRET_HASH = 'e585f55735dd7512ab70f5373db58dad73db5ad0fa7d7047d5cea2f162154c77';

async function sha256hex(str) {
  const enc = new TextEncoder();
  const data = enc.encode(str);
  const hashBuffer = await crypto.subtle.digest('SHA-256', data);
  const hashArray = Array.from(new Uint8Array(hashBuffer));
  return hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
}

document.getElementById('passwordForm').addEventListener('submit', async function(event) {
  event.preventDefault();
  const pwdInput = document.getElementById('passwordInput');
  const password = pwdInput.value || '';
  const errorMessage = document.getElementById('errorMessage');

  if (!password.trim()) {
    errorMessage.textContent = 'enter the password.';
    pwdInput.classList.add('shake');
    setTimeout(() => pwdInput.classList.remove('shake'), 500);
    return;
  }

  try {
    const hash = await sha256hex(password);
    if (hash === SECRET_HASH) {
      
      window.location.href = 'vizmindsround2.html';
    } else {
      errorMessage.textContent = 'You are not worthy.';
      pwdInput.classList.add('shake');
      setTimeout(() => pwdInput.classList.remove('shake'), 500);
    }
  } catch (err) {
    console.error(err);
    errorMessage.textContent = 'Something went wrong. Try again.';
  }
});
</script>

    </script>
</body>
</html>

